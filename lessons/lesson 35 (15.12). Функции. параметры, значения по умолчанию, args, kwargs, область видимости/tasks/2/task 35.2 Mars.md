# Практическое задание 35.2

Это задание относится ко второму блоку урока по функциям. В предыдущем блоке вы научились объявлять функции, передавать аргументы и возвращать результат. Сейчас мы сосредоточимся на управлении аргументами: использовании значений по умолчанию, безопасной работе с изменяемыми типами данных и правильном порядке передачи позиционных и именованных аргументов. Это подготовит вас к пониманию более сложных механизмов передачи данных в функции.

## Задания

### Описание задачи
Вы помогаете разработать систему для управления списком студентов в учебной группе. Нужно создать функцию `add_student`, которая добавляет информацию о студенте в общий список. Функция должна быть гибкой и безопасной.

**Требования к функции `add_student`:**
1.  Функция принимает три обязательных аргумента:
    *   `group` (список) — общий список всех студентов группы.
    *   `name` (строка) — имя студента.
    *   `student_id` (целое число) — уникальный идентификатор студента.
2.  Функция принимает два необязательных аргумента со значениями по умолчанию:
    *   `grades` (список оценок) — список начальных оценок студента. По умолчанию должен быть безопасным пустым списком.
    *   `is_active` (логическое значение) — статус активности студента в группе. По умолчанию `True`.
3.  Функция формирует словарь с информацией о студенте и добавляет его в переданный список `group`.
4.  Функция должна возвращать обновленный список `group`.

**Важная деталь:** Вы должны избежать распространенной ошибки — «ловушки изменяемого значения по умолчанию». Если пользователь функции не передаст список оценок, должен создаваться новый пустой список для каждого нового студента, а не использоваться один и тот же общий список.

### Пример входных и выходных данных

**Пример 1: Базовый вызов**
```python
# Исходное состояние группы
study_group = []

# Вызов функции
updated_group = add_student(study_group, "Анна", 101)
print(updated_group)
```
**Ожидаемый вывод:**
```
[{'name': 'Анна', 'id': 101, 'grades': [], 'active': True}]
```
*Пояснение:* Переданы только обязательные аргументы. Для `grades` использовано безопасное значение по умолчанию (новый пустой список), для `is_active` — значение `True`.

**Пример 2: Вызов со всеми аргументами**
```python
study_group = []
# Используем именованные аргументы для наглядности
new_group = add_student(
    group=study_group,
    name="Марс",
    student_id=102,
    grades=[5, 4, 5],
    is_active=False
)
print(new_group)
```
**Ожидаемый вывод:**
```
[{'name': 'Марс', 'id': 102, 'grades': [5, 4, 5], 'active': False}]
```
*Пояснение:* Все аргументы переданы явно, в том числе и именованные. Значения по умолчанию не используются.

**Пример 3: Множественные вызовы (проверка на безопасность)**
```python
group = []
# Добавляем первого студента с оценкой
add_student(group, "Иван", 103, grades=[4])
# Добавляем второго студента без указания оценок
add_student(group, "Ольга", 104)

print(group)
```
**Ожидаемый (корректный) вывод:**
```
[
    {'name': 'Иван', 'id': 103, 'grades': [4], 'active': True},
    {'name': 'Ольга', 'id': 104, 'grades': [], 'active': True}
]
```
*Пояснение (ключевой момент):* У Ольги должен быть свой независимый пустой список `grades`, а не общий список с Иваном. Если допущена ошибка с изменяемым значением по умолчанию, у Ольги в `grades` окажется `[4]`.

### Критерии проверки и ограничения
1.  Функция должна строго следовать объявленным параметрам и их порядку.
2.  Значение по умолчанию для параметра `grades` должно быть реализовано безопасно (с использованием `None`-паттерна), чтобы предотвратить накопление данных между вызовами.
3.  Внутри функции должен создаваться словарь с ключами: `'name'`, `'id'`, `'grades'`, `'active'`.
4.  Функция должна возвращать список `group` после добавления нового студента.
5.  **Запрещено использовать:** `*args`, `**kwargs`, распаковку, глобальные переменные (кроме области видимости функции).

### Решение задачи (псевдокод)
1.  Объяви функцию `add_student` с параметрами: `group`, `name`, `student_id`, `grades`, `is_active`.
2.  Для параметра `grades` установи значение по умолчанию `None`.
3.  Для параметра `is_active` установи значение по умолчанию `True`.
4.  Внутри функции:
    a.  ЕСЛИ `grades` равняется `None`, ТО создать новый пустой список и присвоить его переменной `grades`.
    b.  Создать словарь `student_info` со следующими парами ключ-значение:
        *   Ключ `'name'` — значение из параметра `name`.
        *   Ключ `'id'` — значение из параметра `student_id`.
        *   Ключ `'grades'` — значение из переменной `grades` (которая теперь всегда список).
        *   Ключ `'active'` — значение из параметра `is_active`.
    c.  Добавить словарь `student_info` в конец списка `group`.
    d.  Вернуть список `group` как результат работы функции.

### Рекомендации
-   Вынести в отдельную функцию: Саму операцию по созданию словаря с информацией о студенте можно было бы вынести в отдельную вспомогательную функцию (например, `create_student_record`), но для данной задачи и уровня сложности это не является обязательным. Основная цель — отработать параметры и безопасные значения по умолчанию.
-   PEP8:
    *   Используйте пробелы вокруг оператора присваивания (`=`) при объявлении параметров со значениями по умолчанию: `def add_student(group, name, student_id, grades=None, is_active=True):`.
    *   Называйте функции в `snake_case` (все буквы строчные, слова разделяются подчеркиванием), как в примере `add_student`.
